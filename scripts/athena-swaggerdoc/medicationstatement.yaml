openapi: 3.0.0
info:
  title: Interoperability APIs (FHIR++)
  version: latest
  description: FHIR (Fast Healthcare Interoperability Resources, prounced as 
    Fire) is a standard for exchanging healthcare information electronically. It
    is designed to be a modern, flexible, and web-based alternative to older, 
    more cumbersome standards like HL7 v2. FHIR uses a RESTful API specification
    to define how to interact with Resources - this means it uses standard HTTP 
    verbs (GET, POST, PUT, DELETE). Resources are the fundamental units of data 
    in FHIR; they can represent anything from patient demographics to clinical 
    observations to medications.
servers:
  - url: https://xchange-sandbox.xcaliberapis.com
  - url: https://your.api.server
tags: []
paths:
  /api/v2/MedicationStatement:
    get:
      tags:
        - MedicationStatement
      summary: Get MedicationStatements
      operationId: getAthenaMedicationsV2
      parameters:
        - &id001
          name: x-source-id
          in: header
          required: true
          schema:
            type: string
          description: Source system identifier.
        - &id002
          name: x-interaction-mode
          in: header
          required: true
          schema:
            type: boolean
          description: Interaction mode flag (true/false).
        - name: category
          in: query
          required: false
          schema:
            type: string
          description: 'Filter: category'
        - name: context
          in: query
          required: false
          schema:
            type: string
          description: 'Filter: context'
        - name: effective
          in: query
          required: false
          schema:
            type: string
          description: 'Filter: effective'
        - name: part-of
          in: query
          required: false
          schema:
            type: string
          description: 'Filter: part-of'
        - name: source
          in: query
          required: false
          schema:
            type: string
          description: 'Filter: source'
        - name: subject
          in: query
          required: false
          schema:
            type: string
          description: 'Filter: subject'
        - name: departmentId
          in: query
          required: true
          schema:
            type: string
          description: Department identifier.
        - name: patient
          in: query
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Success
          content:
            application/json:
              example:
                context:
                  requestId: abc123
                  source: ATHENA
                  quorum: true
                  notify: true
                data:
                  resourceType: Bundle
                  type: searchset
                  total: 1
                  entry:
                    - id: med123
                      subject:
                        reference: Patient/pat456
                      medicationCodeableConcept:
                        coding:
                          - code: fdb123
                            display: Aspirin
                          - system: http://www.nlm.nih.gov/research/umls/rxnorm
                            code: rx123
                      note:
                        - text: Patient note example
                          authorString: patient
                        - text: Provider note example
                          authorString: practitioner
                      informationSource:
                        display: Pharmacy Name
                        identifier:
                          value: '123456789'
                        reference: Practitioner/123
                      status: active
                      statusReason:
                        - coding:
                            - display: Patient stopped medication due to side 
                                effects
                      contained:
                        - resourceType: AuditEvent
                          type:
                            display: Medication started
                          agent:
                            - name: Dr. John Doe
                          source:
                            observer:
                              reference: MedicationStatement/source123
                          recorded: '2023-10-01T12:00:00Z'
                      extension:
                        - url: 
                            http://example.org/fhir/StructureDefinition/medication-statement-approvedby
                          valueString: Dr. John Doe
                        - url: 
                            http://example.org/fhir/StructureDefinition/medication-statement-deniedby
                          valueString: Dr. Jane Smith
                        - url: 
                            http://example.org/fhir/StructureDefinition/medication-statement-denieddate
                          valueDate: '2023-09-15'
                        - url: 
                            http://example.org/fhir/StructureDefinition/medication-statement-billingndc
                          valueString: '123456789'
                        - url: 
                            http://example.org/fhir/StructureDefinition/medication-statement-createdby
                          valueString: Nurse Nancy
                        - url: 
                            http://example.org/fhir/StructureDefinition/medication-statement-earliestfilldate
                          valueString: '2023-09-01T00:00:00Z'
                        - url: 
                            http://example.org/fhir/StructureDefinition/medication-statement-futuresubmitdate
                          valueString: '2023-10-01T00:00:00Z'
                        - url: 
                            http://example.org/fhir/StructureDefinition/medication-statement-isdiscontinued
                          valueString: 'false'
                        - url: 
                            http://example.org/fhir/StructureDefinition/medication-statement-issafetorenew
                          valueString: 'true'
                        - url: 
                            http://example.org/fhir/StructureDefinition/medication-statement-isstructuredsig
                          valueString: 'true'
                        - url: 
                            http://example.org/fhir/StructureDefinition/medication-statement-ndcoptions
                          valueString: Option1
                        - url: 
                            http://example.org/fhir/StructureDefinition/medication-statement-orderingmode
                          valueString: Online
                        - url: 
                            http://example.org/fhir/StructureDefinition/medication-statement-organclass
                          valueString: Cardiovascular
                        - url: 
                            http://example.org/fhir/StructureDefinition/medication-statement-pharmacy
                          valueString: Pharmacy A
                        - url: 
                            http://example.org/fhir/StructureDefinition/medication-statement-pharmacyncpdpid
                          valueString: '987654321'
                        - url: 
                            http://example.org/fhir/StructureDefinition/medication-statement-prescribedby
                          valueString: Dr. Emily White
                        - url: 
                            http://example.org/fhir/StructureDefinition/medication-statement-quantityvalue
                          valueQuantity:
                            value: 30
                            unit: tablets
                        - url: 
                            http://example.org/fhir/StructureDefinition/medication-statement-quantity
                          valueInteger: 30
                        - url: 
                            http://example.org/fhir/StructureDefinition/medication-statement-quantityunit
                          valueString: tablets
                        - url: 
                            http://example.org/fhir/StructureDefinition/medication-statement-refillsallowed
                          valueInteger: 2
                        - url: 
                            http://example.org/fhir/StructureDefinition/medication-statement-route
                          valueString: Oral
                        - url: 
                            http://example.org/fhir/StructureDefinition/medication-statement-source
                          valueString: Patient
                        - url: 
                            http://example.org/fhir/StructureDefinition/medication-statement-therapeuticclass
                          valueString: Antihypertensive
                        - url: 
                            http://example.org/fhir/StructureDefinition/medication-statement-unstructuredsig
                          valueString: Take one tablet daily
                        - url: 
                            http://example.org/fhir/StructureDefinition/medication-statement-section-note
                          valueString: Patient prefers morning doses.
                        - url: 
                            http://example.org/fhir/StructureDefinition/hidden
                          valueBoolean: true
                        - url: 
                            http://example.org/fhir/StructureDefinition/patient-facing-call
                          valueBoolean: false
                        - url: 
                            http://example.org/fhir/StructureDefinition/third-party-user-name
                          valueString: JohnDoe
                        - url: 
                            http://example.org/fhir/StructureDefinition/unstructured-sig
                          valueString: Take one tablet daily
                        - url: 
                            http://example.org/fhir/StructureDefinition/approvedby
                          valueString: Dr. Smith
                        - url: 
                            http://example.org/fhir/StructureDefinition/billingndc
                          valueString: '12345678901'
                        - url: 
                            http://example.org/fhir/StructureDefinition/createdby
                          valueString: Nurse Jane
                        - url: 
                            http://example.org/fhir/StructureDefinition/earliestfilldate
                          valueString: '2023-01-01'
                        - url: 
                            http://example.org/fhir/StructureDefinition/futuresubmitdate
                          valueString: '2023-02-01'
                      effectivePeriod:
                        start: '2023-09-01T00:00:00Z'
                        end: '2023-12-01T00:00:00Z'
                      context:
                        reference: Encounter/enc789
                      dosage:
                        - method:
                            coding:
                              - display: Take orally
                          additionalInstruction:
                            - text: Take with food
                          route:
                            coding:
                              - display: Oral
                          timing:
                            repeat:
                              duration: 7
                              durationUnit: days
                            extension:
                              - url: 
                                  http://example.org/fhir/StructureDefinition/dosage-frequency-description
                                valueString: Twice daily
                          doseAndRate:
                            - rateQuantity:
                                unit: mg
                                value: 2
                              doseQuantity:
                                unit: mg
                                value: 50
        '400':
          $ref: '#/components/responses/Error400'
        '401':
          $ref: '#/components/responses/Error401'
        '500':
          $ref: '#/components/responses/Error500'
    post:
      tags:
        - MedicationStatement
      summary: Create MedicationStatement in Athena
      operationId: createMedicationsInAthena
      parameters:
        - *id001
        - *id002
      requestBody:
        required: true
        content:
          application/json:
            example:
              context:
                requestId: abc123
                source: ATHENA
                quorum: true
                notify: true
                departmentId: '150'
              data:
                resourceType: MedicationStatement
                subject:
                  reference: Patient/4406
                medicationReference:
                  reference: Medication/1
                extension:
                  - url: http://example.com/medication-statement/approvedby
                    valueString: Dr. Smith
                  - url: http://example.com/medication-statement/billingndc
                    valueString: '123456789'
                  - url: http://example.com/medication-statement/createdby
                    valueString: Nurse Jane
                  - url: 
                      http://example.com/medication-statement/earliestfilldate
                    valueString: '2023-10-01T00:00:00Z'
                  - url: 
                      http://example.com/medication-statement/futuresubmitdate
                    valueString: '2023-11-01T00:00:00Z'
                  - url: http://example.com/medication-statement/isdiscontinued
                    valueString: 'false'
                  - url: http://example.com/medication-statement/issafetorenew
                    valueString: 'true'
                  - url: http://example.com/medication-statement/isstructuredsig
                    valueString: 'true'
                  - url: http://example.com/medication-statement/ndcoptions
                    valueString: Option1
                  - url: http://example.com/medication-statement/orderingmode
                    valueString: Online
                  - url: http://example.com/medication-statement/organclass
                    valueString: Cardiovascular
                  - url: http://example.com/medication-statement/pharmacy
                    valueString: Pharmacy A
                  - url: http://example.com/medication-statement/pharmacyncpdpid
                    valueString: '987654321'
                  - url: http://example.com/medication-statement/prescribedby
                    valueString: Dr. Adams
                dosage:
                  - method:
                      coding:
                        - display: Oral
                    route:
                      coding:
                        - display: Oral
                    doseAndRate:
                      - doseQuantity:
                          value: 2
                          unit: mg
                informationSource:
                  display: Pharmacy A
                  identifier:
                    value: '987654321'
                  reference: Practitioner/123
      responses:
        '201':
          description: MedicationStatement created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MedicationStatementContextResource'
        '400':
          $ref: '#/components/responses/Error400'
        '401':
          $ref: '#/components/responses/Error401'
        '500':
          $ref: '#/components/responses/Error500'
        '200':
          description: Success
          content:
            application/json:
              example:
                context:
                  requestId: abc123
                  source: ATHENA
                  quorum: true
                  notify: true
                  departmentId: '150'
                data:
                  resourceType: MedicationStatement
                  subject:
                    reference: Patient/4406
                  medicationReference:
                    reference: Medication/1
                  extension:
                    - url: http://example.com/medication-statement/approvedby
                      valueString: Dr. Smith
                    - url: http://example.com/medication-statement/billingndc
                      valueString: '123456789'
                    - url: http://example.com/medication-statement/createdby
                      valueString: Nurse Jane
                    - url: 
                        http://example.com/medication-statement/earliestfilldate
                      valueString: '2023-10-01T00:00:00Z'
                    - url: 
                        http://example.com/medication-statement/futuresubmitdate
                      valueString: '2023-11-01T00:00:00Z'
                    - url: 
                        http://example.com/medication-statement/isdiscontinued
                      valueString: 'false'
                    - url: http://example.com/medication-statement/issafetorenew
                      valueString: 'true'
                    - url: 
                        http://example.com/medication-statement/isstructuredsig
                      valueString: 'true'
                    - url: http://example.com/medication-statement/ndcoptions
                      valueString: Option1
                    - url: http://example.com/medication-statement/orderingmode
                      valueString: Online
                    - url: http://example.com/medication-statement/organclass
                      valueString: Cardiovascular
                    - url: http://example.com/medication-statement/pharmacy
                      valueString: Pharmacy A
                    - url: 
                        http://example.com/medication-statement/pharmacyncpdpid
                      valueString: '987654321'
                    - url: http://example.com/medication-statement/prescribedby
                      valueString: Dr. Adams
                  dosage:
                    - method:
                        coding:
                          - display: Oral
                      route:
                        coding:
                          - display: Oral
                      doseAndRate:
                        - doseQuantity:
                            value: 2
                            unit: mg
                  informationSource:
                    display: Pharmacy A
                    identifier:
                      value: '987654321'
                    reference: Practitioner/123
  /api/v2/MedicationStatement/{medicationstatement_id}:
    get:
      tags:
        - MedicationStatement
      summary: Get MedicationStatement by ID
      operationId: getAthenaMedicationStatementV2
      parameters:
        - name: medicationstatement_id
          in: path
          required: true
          schema:
            type: string
          description: '"Unique identifier of the MedicationStatement resource to
            retrieve. Required for fetching a specific MedicationStatement by ID."'
        - *id001
        - *id002
        - name: departmentId
          in: query
          required: true
          schema:
            type: string
          description: Department identifier.
      responses:
        '200':
          description: MedicationStatement found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MedicationStatementContextResource'
        '400':
          $ref: '#/components/responses/Error400'
        '401':
          $ref: '#/components/responses/Error401'
        '404':
          $ref: '#/components/responses/Error404'
        '500':
          $ref: '#/components/responses/Error500'
    put:
      tags:
        - MedicationStatement
      summary: Update MedicationStatement in Athena
      operationId: updateMedicationsInAthena
      parameters:
        - name: medicationstatement_id
          in: path
          required: true
          schema:
            type: string
          description: '"Unique identifier of the MedicationStatement resource to
            update. Required for updating an existing MedicationStatement in Athena."'
        - *id001
        - *id002
      requestBody:
        required: true
        content:
          application/json:
            example:
              context:
                requestId: abc123
                source: ATHENA
                quorum: true
                notify: true
                departmentId: '150'
              data:
                resourceType: MedicationStatement
                subject:
                  reference: Patient/4406
                medicationReference:
                  reference: Medication/1
                extension:
                  - url: http://example.com/medication-statement/approvedby
                    valueString: Dr. Smith
                  - url: http://example.com/medication-statement/billingndc
                    valueString: '123456789'
                  - url: http://example.com/medication-statement/createdby
                    valueString: Nurse Jane
                  - url: 
                      http://example.com/medication-statement/earliestfilldate
                    valueString: '2023-10-01T00:00:00Z'
                  - url: 
                      http://example.com/medication-statement/futuresubmitdate
                    valueString: '2023-11-01T00:00:00Z'
                  - url: http://example.com/medication-statement/isdiscontinued
                    valueString: 'false'
                  - url: http://example.com/medication-statement/issafetorenew
                    valueString: 'true'
                  - url: http://example.com/medication-statement/isstructuredsig
                    valueString: 'true'
                  - url: http://example.com/medication-statement/ndcoptions
                    valueString: Option1
                  - url: http://example.com/medication-statement/orderingmode
                    valueString: Online
                  - url: http://example.com/medication-statement/organclass
                    valueString: Cardiovascular
                  - url: http://example.com/medication-statement/pharmacy
                    valueString: Pharmacy A
                  - url: http://example.com/medication-statement/pharmacyncpdpid
                    valueString: '987654321'
                  - url: http://example.com/medication-statement/prescribedby
                    valueString: Dr. Adams
                dosage:
                  - method:
                      coding:
                        - display: Oral
                    route:
                      coding:
                        - display: Oral
                    doseAndRate:
                      - doseQuantity:
                          value: 2
                          unit: mg
                informationSource:
                  display: Pharmacy A
                  identifier:
                    value: '987654321'
                  reference: Practitioner/123
      responses:
        '200':
          description: Success
          content:
            application/json:
              example:
                context:
                  requestId: abc123
                  source: ATHENA
                  quorum: true
                  notify: true
                  departmentId: '150'
                data:
                  resourceType: MedicationStatement
                  subject:
                    reference: Patient/4406
                  medicationReference:
                    reference: Medication/1
                  extension:
                    - url: http://example.com/medication-statement/approvedby
                      valueString: Dr. Smith
                    - url: http://example.com/medication-statement/billingndc
                      valueString: '123456789'
                    - url: http://example.com/medication-statement/createdby
                      valueString: Nurse Jane
                    - url: 
                        http://example.com/medication-statement/earliestfilldate
                      valueString: '2023-10-01T00:00:00Z'
                    - url: 
                        http://example.com/medication-statement/futuresubmitdate
                      valueString: '2023-11-01T00:00:00Z'
                    - url: 
                        http://example.com/medication-statement/isdiscontinued
                      valueString: 'false'
                    - url: http://example.com/medication-statement/issafetorenew
                      valueString: 'true'
                    - url: 
                        http://example.com/medication-statement/isstructuredsig
                      valueString: 'true'
                    - url: http://example.com/medication-statement/ndcoptions
                      valueString: Option1
                    - url: http://example.com/medication-statement/orderingmode
                      valueString: Online
                    - url: http://example.com/medication-statement/organclass
                      valueString: Cardiovascular
                    - url: http://example.com/medication-statement/pharmacy
                      valueString: Pharmacy A
                    - url: 
                        http://example.com/medication-statement/pharmacyncpdpid
                      valueString: '987654321'
                    - url: http://example.com/medication-statement/prescribedby
                      valueString: Dr. Adams
                  dosage:
                    - method:
                        coding:
                          - display: Oral
                      route:
                        coding:
                          - display: Oral
                      doseAndRate:
                        - doseQuantity:
                            value: 2
                            unit: mg
                  informationSource:
                    display: Pharmacy A
                    identifier:
                      value: '987654321'
                    reference: Practitioner/123
        '400':
          $ref: '#/components/responses/Error400'
        '401':
          $ref: '#/components/responses/Error401'
        '500':
          $ref: '#/components/responses/Error500'
    delete:
      tags:
        - MedicationStatement
      summary: Delete MedicationStatement in Athena
      operationId: deleteMedicationStatementInAthena
      parameters:
        - name: medicationstatement_id
          in: path
          required: true
          schema:
            type: string
          description: '"Unique identifier of the MedicationStatement resource to
            delete. Required for deletion."'
        - *id001
        - *id002
      responses:
        '204':
          description: MedicationStatement deleted successfully
        '400':
          $ref: '#/components/responses/Error400'
        '401':
          $ref: '#/components/responses/Error401'
        '500':
          $ref: '#/components/responses/Error500'
components:
  schemas:
    Extension:
      type: object
      required:
        - url
      properties:
        url:
          type: string
        valueString:
          type: string
        valueDate:
          type: string
          format: date
        valueDateTime:
          type: string
          format: date-time
        valueInteger:
          type: integer
        valueBoolean:
          type: boolean
        valueQuantity:
          type: object
          properties:
            value:
              type: number
            unit:
              type: string
        extension:
          type: array
          items: {}
    MedicationStatementBundle:
      type: object
      properties:
        context:
          type: object
          properties:
            requestId:
              type: string
            source:
              type: string
            quorum:
              type: boolean
            notify:
              type: boolean
        data:
          type: object
          properties:
            resourceType:
              type: string
              enum:
                - Bundle
            type:
              type: string
            total:
              type: integer
            entry:
              type: array
              items:
                type: object
                properties:
                  resource:
                    $ref: '#/components/schemas/MedicationStatementResource'
            meta:
              type: object
              properties:
                extension:
                  type: array
                  items:
                    $ref: '#/components/schemas/Extension'
      example:
        context:
          requestId: bundle123
          source: ATHENA
          quorum: true
          notify: false
        data:
          resourceType: Bundle
          type: searchset
          total: 1
          entry:
            - resource:
                resourceType: MedicationStatement
                id: example-medication-statement
                status: active
                medicationCode:
                  coding:
                    - system: http://snomed.info/sct
                      code: '36288007'
                      display: Metformin
                  text: Metformin
                subject:
                  reference: Patient/example-patient
                extension:
                  - url: http://tinyurl/approvedby
                    valueString: Dr. Smith
                  - url: http://tinyurl/deniedby
                    valueString: Dr. Jones
                dosage:
                  - doseQuantity:
                      value: 500
                      unitCode: mg
                    routeCodeableConcept:
                      coding:
                        - system: 
                            http://terminology.hl7.org/CodeSystem/route-of-administration
                          code: 42804-6
                          display: Oral
                      text: Oral
                    whenAdministered:
                      - type: timing
                        valueDateTime: '2022-03-01T12:00:00Z'
                    location:
                      reference: Location/example-location
          meta:
            extension:
              - url: http://tinyurl/section-note
                valueString: Section note goes here
    MedicationStatementContextResource:
      type: object
      properties:
        context:
          type: object
          properties:
            requestId:
              type: string
            source:
              type: string
            quorum:
              type: boolean
            notify:
              type: boolean
        data:
          $ref: '#/components/schemas/MedicationStatementResource'
      example:
        context:
          requestId: abc123
          source: ATHENA
          quorum: true
          notify: true
        data:
          resourceType: MedicationStatement
          id: example-medication-statement
          status: active
          medicationCode:
            coding:
              - system: http://snomed.info/sct
                code: '36288007'
                display: Metformin
            text: Metformin
          subject:
            reference: Patient/example-patient
          extension:
            - url: http://tinyurl/approvedby
              valueString: Dr. Smith
            - url: http://tinyurl/deniedby
              valueString: Dr. Jones
            - url: http://tinyurl/denieddate
              valueDate: '2023-10-01'
            - url: http://tinyurl/billingndc
              valueString: '12345678901'
            - url: http://tinyurl/createdby
              valueString: Nurse Nancy
            - url: http://tinyurl/earliestfilldate
              valueString: '2023-03-01T08:00:00Z'
            - url: http://tinyurl/futuresubmitdate
              valueString: '2023-03-05T08:00:00Z'
            - url: http://tinyurl/isdiscontinued
              valueString: 'false'
            - url: http://tinyurl/issafetorenew
              valueString: 'true'
            - url: http://tinyurl/isstructuredsig
              valueString: 'true'
            - url: http://tinyurl/ndcoptions
              valueString: option1,option2
            - url: http://tinyurl/orderingmode
              valueString: online
            - url: http://tinyurl/organclass
              valueString: ClassA
            - url: http://tinyurl/pharmacy
              valueString: PharmacyOne
            - url: http://tinyurl/pharmacyncpdpid
              valueString: NCPDP123456
            - url: http://tinyurl/prescribedby
              valueString: Dr. Adams
            - url: http://tinyurl/quantityvalue
              valueQuantity:
                value: 30
                unit: tablet
            - url: http://tinyurl/quantity
              valueInteger: 30
            - url: http://tinyurl/quantityunit
              valueString: mg
            - url: http://tinyurl/refillsallowed
              valueInteger: 2
            - url: http://tinyurl/route
              valueString: oral
            - url: http://tinyurl/source
              valueString: EHR
            - url: http://tinyurl/therapeuticclass
              valueString: Antidiabetic
            - url: http://tinyurl/unstructuredsig
              valueString: Take as directed
            - url: http://tinyurl/section-note
              valueString: Section note goes here
            - url: http://tinyurl/events
              extension: []
            - url: http://tinyurl/event
              extension: []
            - url: http://tinyurl/eventtypestart
              valueDate: '2022-03-01'
            - url: http://tinyurl/userdisplayname
              valueString: Nurse Nancy
            - url: http://tinyurl/event
              extension: []
            - url: http://tinyurl/eventtypeend
              valueDate: '2022-03-31'
            - url: http://tinyurl/userdisplayname
              valueString: Dr. Smith
            - url: http://tinyurl/dosagefrequencydescription
              valueString: Once daily after breakfast
          dosage:
            - doseQuantity:
                value: 500
                unitCode: mg
              routeCodeableConcept:
                coding:
                  - system: 
                      http://terminology.hl7.org/CodeSystem/route-of-administration
                    code: 42804-6
                    display: Oral
                text: Oral
              whenAdministered:
                - type: timing
                  valueDateTime: '2022-03-01T12:00:00Z'
              location:
                reference: Location/example-location
    MedicationStatementResource:
      type: object
      properties:
        resourceType:
          type: string
          enum:
            - MedicationStatement
        id:
          type: string
        status:
          type: string
        medicationCode:
          type: object
          properties:
            coding:
              type: array
              items:
                type: object
                properties:
                  system:
                    type: string
                  code:
                    type: string
                  display:
                    type: string
            text:
              type: string
        subject:
          type: object
          properties:
            reference:
              type: string
        extension:
          type: array
          items:
            $ref: '#/components/schemas/Extension'
        dosage:
          type: array
          items:
            type: object
            properties:
              doseQuantity:
                type: object
                properties:
                  value:
                    type: number
                  unitCode:
                    type: string
              routeCodeableConcept:
                type: object
                properties:
                  coding:
                    type: array
                    items:
                      type: object
                      properties:
                        system:
                          type: string
                        code:
                          type: string
                        display:
                          type: string
                  text:
                    type: string
              whenAdministered:
                type: array
                items:
                  type: object
                  properties:
                    type:
                      type: string
                    valueDateTime:
                      type: string
                      format: date-time
              location:
                type: object
                properties:
                  reference:
                    type: string
    Context:
      type: object
      properties:
        requestId:
          type: string
          example: abc123
        source:
          type: string
          example: ATHENA
        quorum:
          type: boolean
          example: true
        notify:
          type: boolean
          example: true
        departmentId:
          type: string
          example: '150'
      required:
        - requestId
        - source
        - quorum
        - notify
      additionalProperties: true
  parameters:
    Authorization:
      name: Authorization
      in: header
      required: true
      schema:
        type: string
      description: 'Bearer access token. Format: Bearer <token>'
    XSourceId:
      name: x-source-id
      in: header
      required: true
      schema:
        type: string
      description: Source system identifier
  responses:
    Error400:
      description: Bad Request
      content:
        application/json:
          examples:
            MissingPracticeId:
              value:
                statusCode: 400
                message: Practice ID is required.
            MissingDepartmentId:
              value:
                statusCode: 400
                message: Department ID is required.
            MissingPatient:
              value:
                statusCode: 400
                message: Patient ID is required.
            MissingMedicationId:
              value:
                statusCode: 400
                message: Medication ID is required.
    Error404:
      description: Not Found
      content:
        application/json:
          example:
            statusCode: 404
            message: Could not find MedicationStatement by id - {id}
    Error500:
      description: Internal Server Error
      content:
        application/json:
          example:
            statusCode: 500
            message: Internal server error
    Error401:
      description: Unauthorized
      content:
        application/json:
          example:
            success: false
            code: 401
            message: Http Exception
  securitySchemes:
    Auth:
      type: http
      scheme: bearer
      bearerFormat: JWT
security:
  - Auth: []
